{"version":3,"sources":["firebase.js","components/SignOut.jsx","components/SendForm.jsx","components/Chat.jsx","components/SignIn.jsx","App.jsx","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","auth","getAuth","SignOut","style","display","justifyContent","position","width","backgroundColor","top","borderBottom","zIndex","Button","padding","fontSize","borderRadius","fontWeight","onClick","signOut","SendForm","handleReload","useState","message","setMessage","sendMessage","e","a","preventDefault","currentUser","uid","photoURL","addDoc","collection","text","createdAt","Timestamp","now","then","catch","onSubmit","className","Input","marginLeft","marginBottom","placeholder","type","value","onChange","target","margin","maxWidth","Chat","messages","setMessages","isReload","setIsReload","useEffect","getMessages","data","tempMessage","forEach","msg","push","err","console","error","getDocs","query","orderBy","limit","length","map","id","src","alt","SignIn","height","alignItems","signInWithPopup","GoogleAuthProvider","res","log","App","useAuthState","user","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b08872a.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst app = initializeApp({\r\n  apiKey: \"AIzaSyDDK6bMiaerdH1mPzxHuoeN6UJayvzWSe8\",\r\n  authDomain: \"react-chat-5d2d8.firebaseapp.com\",\r\n  projectId: \"react-chat-5d2d8\",\r\n  storageBucket: \"react-chat-5d2d8.appspot.com\",\r\n  messagingSenderId: \"1009112037785\",\r\n  appId: \"1:1009112037785:web:b070b6a70e7f4c94d6bb08\",\r\n  measurementId: \"G-72HMS3W9CG\",\r\n});\r\n\r\nconst db = getFirestore(app);\r\nconst auth = getAuth(app);\r\n\r\nexport { db, auth };\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { auth } from \"../firebase\";\r\n\r\nconst SignOut = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        position: \"fixed\",\r\n        width: \"100%\",\r\n        backgroundColor: \"#FAFAFA\",\r\n        top: 0,\r\n        borderBottom: \"solid 1px lightgray\",\r\n        zIndex: \"10\",\r\n      }}\r\n    >\r\n      <Button\r\n        style={{\r\n          padding: \"20px\",\r\n          fontSize: \"15px\",\r\n          borderRadius: \"0\",\r\n          fontWeight: \"600\",\r\n        }}\r\n        onClick={() => auth.signOut()}\r\n      >\r\n        Sign Out\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignOut;\r\n","import { Input, Button } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { db, auth } from \"../firebase\";\r\nimport { collection, addDoc, Timestamp } from \"firebase/firestore\";\r\n\r\nconst SendForm = ({ handleReload }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    const { uid, photoURL } = auth.currentUser;\r\n\r\n    await addDoc(collection(db, \"messages\"), {\r\n      text: message,\r\n      photoURL: photoURL,\r\n      uid: uid,\r\n      createdAt: Timestamp.now(),\r\n    })\r\n      .then(() => handleReload(true))\r\n      .catch(() => handleReload(false));\r\n    setMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={sendMessage}>\r\n      <div className=\"sendMsg\">\r\n        <Input\r\n          style={{\r\n            width: \"78%\",\r\n            fontSize: \"15px\",\r\n            fontWeight: \"550\",\r\n            marginLeft: \"5px\",\r\n            marginBottom: \"-3px\",\r\n          }}\r\n          placeholder=\"Message...\"\r\n          type=\"text\"\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n        />\r\n        <Button\r\n          style={{\r\n            width: \"18%\",\r\n            fontSize: \"15px\",\r\n            fontWeight: \"550\",\r\n            margin: \"4px 5% -13px 5%\",\r\n            maxWidth: \"200px\",\r\n          }}\r\n          type=\"submit\"\r\n        >\r\n          Send\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SendForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport SignOut from \"./SignOut\";\r\nimport { auth, db } from \"../firebase\";\r\nimport { query, collection, orderBy, limit, getDocs } from \"firebase/firestore\";\r\nimport SendForm from \"./SendForm\";\r\n\r\nconst Chat = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [isReload, setIsReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getMessages()\r\n      .then((data) => {\r\n        const tempMessage = [];\r\n        data.forEach((msg) => tempMessage.push(msg.data()));\r\n        setMessages(tempMessage);\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }, [isReload]);\r\n\r\n  const getMessages = async () => {\r\n    return await getDocs(\r\n      query(collection(db, \"messages\"), orderBy(\"createdAt\"), limit(50))\r\n    );\r\n  };\r\n\r\n  const handleReload = (value) => {\r\n    setIsReload(value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SignOut />\r\n      <div className=\"msgs\">\r\n        {messages.length === 0\r\n          ? \"Loading ...\"\r\n          : messages.map(({ id, text, photoURL, uid }) => (\r\n              <div>\r\n                <div\r\n                  key={id}\r\n                  className={`msg ${\r\n                    uid === auth.currentUser.uid ? \"sent\" : \"received\"\r\n                  }`}\r\n                >\r\n                  <img src={photoURL} alt=\"profile\" />\r\n                  <p>{text}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n      </div>\r\n      <SendForm handleReload={handleReload} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { auth } from \"../firebase\";\r\nimport { signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\r\n\r\nconst SignIn = () => {\r\n  const signInWithGoogle = () => {\r\n    signInWithPopup(auth, new GoogleAuthProvider())\r\n      .then((res) => {\r\n        // const credential = GoogleAuthProvider.credentialFromResult(res);\r\n        // const user = res.user;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        height: \"100vh\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <Button onClick={signInWithGoogle}>Sign In With Google</Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import \"./App.css\";\nimport Chat from \"./components/Chat\";\nimport SignIn from \"./components/SignIn\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { auth } from \"./firebase\";\n\nfunction App() {\n  const [user] = useAuthState(auth);\n\n  return <>{user ? <Chat /> : <SignIn />}</>;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}