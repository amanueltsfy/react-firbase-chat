(this["webpackJsonpreact-firebase-chat"]=this["webpackJsonpreact-firebase-chat"]||[]).push([[0],{62:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(30),i=n.n(a),s=n(13),o=(n(62),n(0)),u=n.n(o),d=n(2),j=n(85),b=n(48),h=n(22),f=n(39),l=Object(b.a)({apiKey:"AIzaSyDDK6bMiaerdH1mPzxHuoeN6UJayvzWSe8",authDomain:"react-chat-5d2d8.firebaseapp.com",projectId:"react-chat-5d2d8",storageBucket:"react-chat-5d2d8.appspot.com",messagingSenderId:"1009112037785",appId:"1:1009112037785:web:b070b6a70e7f4c94d6bb08",measurementId:"G-72HMS3W9CG"}),p=Object(h.e)(l),O=Object(f.b)(l),x=n(11),g=function(){return Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"fixed",width:"100%",backgroundColor:"#FAFAFA",top:0,borderBottom:"solid 1px lightgray",zIndex:"10"},children:Object(x.jsx)(j.a,{style:{padding:"20px",fontSize:"15px",borderRadius:"0",fontWeight:"600"},onClick:function(){return O.signOut()},children:"Sign Out"})})},m=n(86),v=function(e){var t=e.handleReload,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],i=r[1],o=function(){var e=Object(d.a)(u.a.mark((function e(n){var c,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=O.currentUser,r=c.uid,s=c.photoURL,e.next=4,Object(h.b)(Object(h.c)(p,"messages"),{text:a,photoURL:s,uid:r,createdAt:h.a.now()}).then((function(){return t(!0)})).catch((function(){return t(!1)}));case 4:i("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("form",{onSubmit:o,children:Object(x.jsxs)("div",{className:"sendMsg",children:[Object(x.jsx)(m.a,{style:{width:"78%",fontSize:"15px",fontWeight:"550",marginLeft:"5px",marginBottom:"-3px"},placeholder:"Message...",type:"text",value:a,onChange:function(e){return i(e.target.value)}}),Object(x.jsx)(j.a,{style:{width:"18%",fontSize:"15px",fontWeight:"550",margin:"4px 5% -13px 5%",maxWidth:"200px"},type:"submit",children:"Send"})]})})},y=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(s.a)(a,2),o=i[0],j=i[1];Object(c.useEffect)((function(){b().then((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),r(t)})).catch((function(e){return console.error(e)}))}),[o]);var b=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(Object(h.h)(Object(h.c)(p,"messages"),Object(h.g)("createdAt"),Object(h.f)(50)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)(g,{}),Object(x.jsx)("div",{className:"msgs",children:0===n.length?"Loading ...":n.map((function(e){var t=e.id,n=e.text,c=e.photoURL,r=e.uid;return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"msg ".concat(r===O.currentUser.uid?"sent":"received"),children:[Object(x.jsx)("img",{src:c,alt:"profile"}),Object(x.jsx)("p",{children:n})]},t)})}))}),Object(x.jsx)(v,{handleReload:function(e){j(e)}})]})},S=function(){return Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100vh",alignItems:"center"},children:Object(x.jsx)(j.a,{onClick:function(){Object(f.c)(O,new f.a).then((function(e){})).catch((function(e){console.log(e.message)}))},children:"Sign In With Google"})})},w=n(54);var I=function(){var e=Object(w.a)(O),t=Object(s.a)(e,1)[0];return Object(x.jsx)(x.Fragment,{children:t?Object(x.jsx)(y,{}):Object(x.jsx)(S,{})})};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(I,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.7b08872a.chunk.js.map